<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Investitionskredit - Antragsprozess</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            /* George UI Colors */
            --primary-blue: #1E5EBE;
            --primary-blue-dark: #174A99;
            --primary-blue-darker: #0F3A7A;
            --teal: #00A19C;
            --magenta: #DC004E;
            --green: #00916E;
            --success-green: #00AA13;
            --warning-orange: #FF6F00;
            --error-red: #D32F2F;
            --bg-light: #F5F5F5;
            --bg-white: #FFFFFF;
            --text-dark: #212121;
            --text-medium: #666666;
            --text-light: #757575;
            --border-color: #E0E0E0;
            --shadow-light: rgba(0, 0, 0, 0.1);
            --shadow-medium: rgba(0, 0, 0, 0.15);
        }

        body {
            font-family: 'Noto Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background-color: var(--bg-light);
            color: var(--text-dark);
            min-height: 100vh;
            font-size: 16px;
            line-height: 1.5;
        }

        .header {
            background: var(--primary-blue);
            padding: 0;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            box-shadow: 0 2px 8px var(--shadow-medium);
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 2rem;
            height: 64px;
        }

        .nav-logo {
            font-size: 24px;
            font-weight: 700;
            color: var(--bg-white);
            letter-spacing: -0.5px;
            text-decoration: none;
            display: inline-block;
            padding: 0.5rem 0;
        }

        .nav-logo a {
            color: var(--bg-white);
            text-decoration: none;
        }

        .nav-menu {
            display: flex;
            list-style: none;
            gap: 0.5rem;
            align-items: center;
        }

        .nav-item {
            position: relative;
        }

        .nav-item a {
            color: var(--bg-white);
            text-decoration: none;
            padding: 0.75rem 1.25rem;
            display: block;
            font-size: 14px;
            font-weight: 500;
            border-radius: 24px;
            transition: all 0.2s ease-in-out;
        }

        .nav-item.active a,
        .nav-item a:hover {
            background: rgba(255, 255, 255, 0.15);
        }

        .nav-user {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .user-btn {
            background: transparent;
            border: none;
            color: var(--bg-white);
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 50%;
            transition: all 0.2s ease-in-out;
            font-size: 14px;
            font-weight: 500;
        }

        .user-btn:hover {
            background: rgba(255, 255, 255, 0.15);
        }

        .page-title {
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--teal) 100%);
            color: var(--bg-white);
            padding: 2rem;
            margin-top: 64px;
            text-align: center;
        }

        .page-title h1 {
            font-size: 28px;
            font-weight: 700;
            margin: 0;
        }

        .page-title p {
            margin-top: 0.5rem;
            opacity: 0.9;
            font-size: 16px;
        }

        .container {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 2rem;
        }

        .progress-bar {
            background: var(--bg-white);
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 16px;
            box-shadow: 0 2px 4px var(--shadow-light);
        }

        .progress-steps {
            display: flex;
            justify-content: space-between;
            position: relative;
            margin-bottom: 1rem;
        }

        .progress-steps::before {
            content: '';
            position: absolute;
            top: 20px;
            left: 0;
            right: 0;
            height: 2px;
            background: var(--border-color);
            z-index: 0;
        }

        .progress-line {
            position: absolute;
            top: 20px;
            left: 0;
            height: 2px;
            background: var(--primary-blue);
            z-index: 1;
            transition: width 0.3s ease;
        }

        .step {
            position: relative;
            z-index: 2;
            display: flex;
            flex-direction: column;
            align-items: center;
            flex: 1;
        }

        .step-circle {
            width: 44px;
            height: 44px;
            border-radius: 50%;
            background: var(--bg-white);
            border: 3px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 15px;
            color: var(--text-light);
            transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .step.active .step-circle {
            background: var(--primary-blue);
            border-color: var(--primary-blue);
            color: var(--bg-white);
            box-shadow: 0 2px 8px rgba(0, 87, 160, 0.3);
        }

        .step.completed .step-circle {
            background: var(--teal);
            border-color: var(--teal);
            color: var(--bg-white);
        }

        .step-label {
            margin-top: 0.625rem;
            font-size: 13px;
            text-align: center;
            color: var(--text-light);
            max-width: 120px;
            font-weight: 500;
        }

        .step.active .step-label {
            color: var(--primary-blue);
            font-weight: 700;
        }

        .step.completed .step-label {
            color: var(--text-medium);
        }

        .step-content {
            display: none;
        }

        .step-content.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .card {
            background: var(--bg-white);
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 2px 4px var(--shadow-light);
            margin-bottom: 16px;
            transition: all 0.2s ease-in-out;
        }

        .card:hover {
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            transform: translateY(-2px);
        }

        .card-title {
            font-size: 22px;
            font-weight: 700;
            margin-bottom: 1.5rem;
            color: var(--text-dark);
            letter-spacing: -0.3px;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--text-dark);
            font-size: 15px;
        }

        .form-group label .required {
            color: var(--error-red);
            margin-left: 2px;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            font-size: 15px;
            font-family: inherit;
            transition: all 0.2s ease-in-out;
            background-color: var(--bg-white);
            color: var(--text-dark);
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 3px rgba(30, 94, 190, 0.1);
        }

        .form-group input:hover:not(:focus),
        .form-group select:hover:not(:focus),
        .form-group textarea:hover:not(:focus) {
            border-color: #9E9E9E;
        }

        .form-group textarea {
            resize: vertical;
            min-height: 100px;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .form-row-3 {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 1rem;
        }

        .checkbox-group,
        .radio-group {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .checkbox-item,
        .radio-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 16px;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            background: var(--bg-white);
        }

        .checkbox-item:hover,
        .radio-item:hover {
            background: rgba(30, 94, 190, 0.03);
            border-color: var(--primary-blue);
            box-shadow: 0 2px 4px var(--shadow-light);
        }

        .checkbox-item input[type="checkbox"]:checked + label,
        .radio-item input[type="radio"]:checked + label {
            font-weight: 600;
        }

        .checkbox-item input[type="checkbox"],
        .radio-item input[type="radio"] {
            width: auto;
            margin: 0;
        }

        .file-upload {
            border: 2px dashed var(--border-color);
            border-radius: 8px;
            padding: 32px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            background: var(--bg-white);
        }

        .file-upload:hover {
            border-color: var(--primary-blue);
            background: rgba(30, 94, 190, 0.03);
            box-shadow: 0 2px 4px var(--shadow-light);
            transform: translateY(-1px);
        }

        .file-upload input[type="file"] {
            display: none;
        }

        .file-list {
            margin-top: 1rem;
        }

        .file-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.875rem 1rem;
            background: var(--bg-light);
            border-radius: 6px;
            margin-bottom: 0.5rem;
            border: 1px solid var(--border-color);
            transition: all 0.2s ease-in-out;
        }

        .file-item:hover {
            background: #FAFAFA;
            border-color: #BDBDBD;
        }

        .file-item .file-name {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .file-item .file-remove {
            color: var(--error-red);
            cursor: pointer;
            font-weight: 600;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            transition: background 0.2s ease-in-out;
        }

        .file-item .file-remove:hover {
            background: rgba(211, 47, 47, 0.1);
        }

        .info-box {
            background: #E3F2FD;
            border-left: 4px solid var(--primary-blue);
            padding: 16px 20px;
            border-radius: 6px;
            margin-bottom: 16px;
            color: var(--text-dark);
            font-size: 14px;
            line-height: 1.6;
        }

        .info-box.warning {
            background: #FFF8E1;
            border-left-color: var(--warning-orange);
        }

        .info-box.success {
            background: #E8F5E9;
            border-left-color: var(--success-green);
        }

        .info-box.error {
            background: #FFEBEE;
            border-left-color: var(--error-red);
        }

        .info-box.info {
            background: #F5F5F5;
            border-left-color: var(--text-medium);
        }

        .button-group {
            display: flex;
            justify-content: space-between;
            margin-top: 2rem;
            gap: 1rem;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 6px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            font-family: inherit;
            letter-spacing: 0.01em;
        }

        .btn-primary {
            background: var(--primary-blue);
            color: var(--bg-white);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15);
        }

        .btn-primary:hover {
            background: var(--primary-blue-dark);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            transform: translateY(-1px);
        }

        .btn-primary:active {
            background: var(--primary-blue-darker);
            transform: scale(0.98);
        }

        .btn-secondary {
            background: var(--bg-white);
            color: var(--primary-blue);
            border: 2px solid var(--primary-blue);
        }

        .btn-secondary:hover {
            background: rgba(30, 94, 190, 0.05);
            border-color: var(--primary-blue-dark);
        }

        .btn:disabled {
            background: #9E9E9E;
            color: var(--bg-white);
            cursor: not-allowed;
            box-shadow: none;
            border: none;
        }

        .status-badge {
            display: inline-block;
            padding: 0.375rem 0.875rem;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 600;
            margin-left: 0.5rem;
            letter-spacing: 0.01em;
        }

        .status-badge.success {
            background: #E8F5E9;
            color: #00AA13;
        }

        .status-badge.warning {
            background: #FFF8E1;
            color: #FF6F00;
        }

        .status-badge.error {
            background: #FFEBEE;
            color: #D32F2F;
        }

        .status-badge.info {
            background: #E3F2FD;
            color: var(--primary-blue);
        }

        .summary-item {
            display: flex;
            justify-content: space-between;
            padding: 0.75rem 0;
            border-bottom: 1px solid var(--border-color);
        }

        .summary-item:last-child {
            border-bottom: none;
        }

        .summary-label {
            color: var(--text-light);
        }

        .summary-value {
            font-weight: 600;
            color: var(--text-dark);
        }

        .eligibility-result {
            text-align: center;
            padding: 2rem;
        }

        .eligibility-icon {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            margin: 0 auto 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
        }

        .eligibility-icon.success {
            background: #d4edda;
            color: var(--success-green);
        }

        .eligibility-icon.warning {
            background: #fff3cd;
            color: var(--warning-orange);
        }

        .eligibility-icon.error {
            background: #f8d7da;
            color: var(--error-red);
        }

        @media (max-width: 768px) {
            .form-row,
            .form-row-3 {
                grid-template-columns: 1fr;
            }

            .progress-steps {
                flex-wrap: wrap;
            }

            .step-label {
                font-size: 10px;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <nav class="nav-container">
            <div class="nav-logo">
                <a href="#" title="George Home">george</a>
            </div>
            <ul class="nav-menu">
                <li class="nav-item"><a href="#">√úbersicht</a></li>
                <li class="nav-item active"><a href="#">Ihre Produkte</a></li>
                <li class="nav-item"><a href="#">Ihre Zusatzfunktionen</a></li>
                <li class="nav-item"><a href="#">Discover</a></li>
                <li class="nav-item"><a href="#">Kontakt</a></li>
            </ul>
            <div class="nav-user">
                <button class="user-btn" title="Profil" aria-label="Profil">üë§</button>
                <button class="user-btn" title="Abmelden" aria-label="Abmelden">‚èª</button>
            </div>
        </nav>
    </header>

    <div class="page-title">
        <h1>Investitionskredit - Antragsprozess</h1>
        <p>Schnell und einfach online beantragen</p>
    </div>

    <div class="container">
        <div class="progress-bar">
            <div class="progress-steps">
                <div class="progress-line" id="progressLine"></div>
                <div class="step active" data-step="0">
                    <div class="step-circle">1</div>
                    <div class="step-label">Pre-Check</div>
                </div>
                <div class="step" data-step="1">
                    <div class="step-circle">2</div>
                    <div class="step-label">Antrag</div>
                </div>
                <div class="step" data-step="2">
                    <div class="step-circle">3</div>
                    <div class="step-label">KYC/AML</div>
                </div>
                <div class="step" data-step="3">
                    <div class="step-circle">4</div>
                    <div class="step-label">Dokumente</div>
                </div>
                <div class="step" data-step="4">
                    <div class="step-circle">5</div>
                    <div class="step-label">Sicherheiten</div>
                </div>
                <div class="step" data-step="5">
                    <div class="step-circle">6</div>
                    <div class="step-label">Pr√ºfung</div>
                </div>
                <div class="step" data-step="6">
                    <div class="step-circle">7</div>
                    <div class="step-label">Vertrag</div>
                </div>
            </div>
        </div>

        <!-- Step 0: Pre-Check / Eligibility -->
        <div class="step-content active" id="step0">
            <div class="card">
                <div class="card-title">Pre-Check & Vorqualifizierung</div>
                <div class="info-box">
                    <strong>Ziel:</strong> Fr√ºhzeitige "No-Touch"-Filterung f√ºr STP, Minimierung von Abbr√ºchen. 
                    Bitte beantworten Sie die folgenden Fragen, um Ihre F√∂rderf√§higkeit zu pr√ºfen.
                </div>

                <div class="form-group">
                    <label>Kundentyp <span class="required">*</span></label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" name="customerType" value="firma" id="typeFirma">
                            <label for="typeFirma">Firma (KMU)</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="customerType" value="einzelunternehmer" id="typeEinzel">
                            <label for="typeEinzel">Einzelunternehmer:in</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="customerType" value="freiberufler" id="typeFreiberufler">
                            <label for="typeFreiberufler">Freiberufler:in</label>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label>Investitionszweck <span class="required">*</span></label>
                    <select id="investmentPurpose" required>
                        <option value="">Bitte w√§hlen</option>
                        <option value="maschinen">Maschinen & Anlagen</option>
                        <option value="fahrzeuge">Fahrzeuge</option>
                        <option value="immobilien">Immobilien (Gesch√§ftsr√§ume)</option>
                        <option value="it">IT & Digitalisierung</option>
                        <option value="umwelt">Umweltschutz & Energieeffizienz</option>
                        <option value="sonstiges">Sonstiges</option>
                    </select>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>Kreditbetrag (EUR) <span class="required">*</span></label>
                        <input type="number" id="loanAmount" min="1000" step="1000" placeholder="z.B. 50000" required>
                    </div>
                    <div class="form-group">
                        <label>Laufzeit (Jahre) <span class="required">*</span></label>
                        <select id="loanTerm" required>
                            <option value="">Bitte w√§hlen</option>
                            <option value="1">1 Jahr</option>
                            <option value="2">2 Jahre</option>
                            <option value="3">3 Jahre</option>
                            <option value="5">5 Jahre</option>
                            <option value="7">7 Jahre</option>
                            <option value="10">10 Jahre</option>
                            <option value="15">15 Jahre</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label>F√∂rderwunsch <span class="required">*</span></label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" name="fundingWish" value="aws" id="fundingAWS">
                            <label for="fundingAWS">AWS (Austria Wirtschaftsservice)</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="fundingWish" value="oht" id="fundingOHT">
                            <label for="fundingOHT">√ñHT (√ñsterreichische Hotel- und Tourismusbank)</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="fundingWish" value="erp" id="fundingERP">
                            <label for="fundingERP">ERP (Europ√§ischer Wiederaufbauplan)</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="fundingWish" value="nein" id="fundingNein">
                            <label for="fundingNein">Keine F√∂rderung</label>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label>Gew√ºnschte Sicherheitenart</label>
                    <div class="checkbox-group">
                        <div class="checkbox-item">
                            <input type="checkbox" id="securityProperty" value="liegenschaft">
                            <label for="securityProperty">Liegenschaft</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="securityVehicle" value="fahrzeug">
                            <label for="securityVehicle">Fahrzeug</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="securityGuarantee" value="b√ºrgschaft">
                            <label for="securityGuarantee">B√ºrgschaft</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="securityOther" value="sonstiges">
                            <label for="securityOther">Sonstiges</label>
                        </div>
                    </div>
                </div>

                <div id="eligibilityResult" style="display: none;">
                    <div class="card">
                        <div class="eligibility-result">
                            <div class="eligibility-icon success" id="eligibilityIcon">‚úì</div>
                            <h2 id="eligibilityTitle">Vorqualifizierung erfolgreich</h2>
                            <p id="eligibilityMessage" style="color: var(--text-light); margin-top: 1rem;"></p>
                        </div>
                    </div>
                </div>

                <div class="button-group">
                    <button class="btn btn-secondary" onclick="checkEligibility()">Vorqualifizierung pr√ºfen</button>
                    <button class="btn btn-primary" id="continueFromPreCheck" onclick="nextStep()" disabled>Weiter zum Antrag</button>
                </div>
            </div>
        </div>

        <!-- Step 1: Antrag -->
        <div class="step-content" id="step1">
            <div class="card">
                <div class="card-title">Antragsdaten</div>
                <div class="info-box">
                    Ihre Daten werden aus Ihrem George Business Profil vorausgef√ºllt. Bitte √ºberpr√ºfen und erg√§nzen Sie die Angaben.
                </div>

                <div class="card-title" style="font-size: 16px; margin-top: 1rem;">Unternehmensdaten</div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Rechtsform <span class="required">*</span></label>
                        <select id="legalForm" required>
                            <option value="">Bitte w√§hlen</option>
                            <option value="gmbh">GmbH</option>
                            <option value="ag">AG</option>
                            <option value="og">OG</option>
                            <option value="kg">KG</option>
                            <option value="einzelunternehmen">Einzelunternehmen</option>
                            <option value="freiberufler">Freiberufler:in</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>UID-Nummer <span class="required">*</span></label>
                        <input type="text" id="uidNumber" placeholder="ATU12345678" required>
                    </div>
                </div>

                <div class="form-group">
                    <label>Firmenbuchnummer</label>
                    <input type="text" id="companyRegister" placeholder="z.B. FN 123456a">
                </div>

                <div class="form-group">
                    <label>Branche (NACE) <span class="required">*</span></label>
                    <select id="naceCode" required>
                        <option value="">Bitte w√§hlen</option>
                        <option value="A">A - Land- und Forstwirtschaft</option>
                        <option value="B">B - Bergbau und Gewinnung von Steinen</option>
                        <option value="C">C - Verarbeitendes Gewerbe</option>
                        <option value="D">D - Energieversorgung</option>
                        <option value="E">E - Wasserversorgung</option>
                        <option value="F">F - Baugewerbe</option>
                        <option value="G">G - Handel</option>
                        <option value="H">H - Verkehr und Lagerei</option>
                        <option value="I">I - Gastgewerbe</option>
                        <option value="J">J - Information und Kommunikation</option>
                        <option value="K">K - Erbringung von Finanzdienstleistungen</option>
                        <option value="L">L - Grundst√ºcks- und Wohnungswesen</option>
                        <option value="M">M - Erbringung von freiberuflichen Dienstleistungen</option>
                        <option value="N">N - Erbringung von sonstigen Dienstleistungen</option>
                        <option value="O">O - √ñffentliche Verwaltung</option>
                        <option value="P">P - Erziehung und Unterricht</option>
                        <option value="Q">Q - Gesundheits- und Sozialwesen</option>
                        <option value="R">R - Kunst, Unterhaltung und Erholung</option>
                        <option value="S">S - Erbringung von sonstigen Dienstleistungen</option>
                    </select>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>Umsatz (EUR/Jahr) <span class="required">*</span></label>
                        <input type="number" id="revenue" min="0" step="1000" placeholder="z.B. 500000" required>
                    </div>
                    <div class="form-group">
                        <label>Anzahl Mitarbeiter:innen <span class="required">*</span></label>
                        <input type="number" id="employees" min="1" step="1" placeholder="z.B. 10" required>
                    </div>
                </div>

                <div class="card-title" style="font-size: 16px; margin-top: 1rem;">Kreditdetails</div>
                <div class="form-row-3">
                    <div class="form-group">
                        <label>Tilgungsmodus <span class="required">*</span></label>
                        <select id="repaymentMode" required>
                            <option value="">Bitte w√§hlen</option>
                            <option value="annuitaetisch">Annuit√§tisch</option>
                            <option value="endfaellig">Endf√§llig</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Zinsart <span class="required">*</span></label>
                        <select id="interestType" required>
                            <option value="">Bitte w√§hlen</option>
                            <option value="fix">Fix</option>
                            <option value="variabel">Variabel</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Verwendungszweck <span class="required">*</span></label>
                        <input type="text" id="usagePurpose" placeholder="z.B. Maschinenkauf" required>
                    </div>
                </div>

                <div class="form-group">
                    <label>Wirtschaftliche Eigent√ºmer:innen <span class="required">*</span></label>
                    <div class="info-box warning">
                        Bitte geben Sie alle wirtschaftlichen Eigent√ºmer:innen mit einem Anteil von mehr als 25% an.
                    </div>
                    <textarea id="beneficialOwners" placeholder="Name, Geburtsdatum, Anteil (z.B. Max Mustermann, 01.01.1980, 50%)" required></textarea>
                </div>

                <div class="button-group">
                    <button class="btn btn-secondary" onclick="previousStep()">Zur√ºck</button>
                    <button class="btn btn-primary" onclick="nextStep()">Weiter zu KYC/AML</button>
                </div>
            </div>
        </div>

        <!-- Step 2: KYC/AML -->
        <div class="step-content" id="step2">
            <div class="card">
                <div class="card-title">Identifikation & KYC/AML-Pr√ºfung</div>
                <div class="info-box">
                    <strong>Ziel:</strong> Reibungslose, regelkonforme Kundendatengewinnung mit NFC/OCR, l√ºckenloser AML-Proof.
                </div>

                <div class="card-title" style="font-size: 16px; margin-top: 1rem;">Digitale Identifikation</div>
                <div class="form-group">
                    <label>Ausweis-Scan <span class="required">*</span></label>
                    <div class="file-upload" onclick="document.getElementById('idScan').click()">
                        <input type="file" id="idScan" accept="image/*,.pdf" onchange="handleFileUpload(this, 'idScanList')">
                        <div>
                            <div style="font-size: 48px; margin-bottom: 0.5rem;">üìÑ</div>
                            <div>Klicken Sie hier, um Ihren Ausweis zu scannen</div>
                            <div style="font-size: 12px; color: var(--text-light); margin-top: 0.5rem;">NFC/RFID oder Foto m√∂glich</div>
                        </div>
                    </div>
                    <div id="idScanList" class="file-list"></div>
                </div>

                <div class="form-group">
                    <label>Selfie & Liveness-Check <span class="required">*</span></label>
                    <div class="file-upload" onclick="document.getElementById('selfie').click()">
                        <input type="file" id="selfie" accept="image/*" onchange="handleFileUpload(this, 'selfieList')">
                        <div>
                            <div style="font-size: 48px; margin-bottom: 0.5rem;">üì∑</div>
                            <div>Selfie f√ºr Liveness-Pr√ºfung aufnehmen</div>
                        </div>
                    </div>
                    <div id="selfieList" class="file-list"></div>
                </div>

                <div class="card-title" style="font-size: 16px; margin-top: 1rem;">AML-Pr√ºfung</div>
                <div class="form-group">
                    <label>√ñsterreich-Bezug <span class="required">*</span></label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" name="austriaConnection" value="ja" id="austriaJa" required>
                            <label for="austriaJa">Ja, Hauptsitz in √ñsterreich</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="austriaConnection" value="nein" id="austriaNein">
                            <label for="austriaNein">Nein</label>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label>Mittelherkunft <span class="required">*</span></label>
                    <textarea id="sourceOfFunds" placeholder="Bitte beschreiben Sie die Herkunft der Mittel f√ºr die Investition (z.B. Eigenkapital, bisherige Gewinne, etc.)" required></textarea>
                    <div class="info-box" style="margin-top: 0.5rem;">
                        Gem√§√ü AML-Leitfaden m√ºssen alle Mittelherkunftsnachweise dokumentiert werden.
                    </div>
                </div>

                <div class="form-group">
                    <label>Zahlungsfluss</label>
                    <textarea id="paymentFlow" placeholder="Beschreiben Sie den erwarteten Zahlungsfluss (z.B. Zahlung an Lieferanten, Rechnungsstellung, etc.)"></textarea>
                </div>

                <div class="form-group">
                    <label>Sanktionen-/PEP-Pr√ºfung</label>
                    <div class="info-box info">
                        Automatische Pr√ºfung gegen EU-Sanktionslisten (EU-VO 833/2014, 765/2006) und PEP-Listen wird durchgef√ºhrt.
                    </div>
                    <div id="sanctionsCheck" style="margin-top: 1rem;">
                        <span class="status-badge info">Pr√ºfung l√§uft...</span>
                    </div>
                </div>

                <div class="form-group">
                    <label>Einwilligungen <span class="required">*</span></label>
                    <div class="checkbox-group">
                        <div class="checkbox-item">
                            <input type="checkbox" id="consentDataProcessing" required>
                            <label for="consentDataProcessing">Ich stimme der Datenverarbeitung gem√§√ü DSGVO zu</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="consentDataSharing" required>
                            <label for="consentDataSharing">Ich stimme der Datenweitergabe an Refinanzierungsbanken zu</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="consentGrundbuch" required>
                            <label for="consentGrundbuch">Ich erm√§chtige zur Grundbuch-Einsicht (¬ß 5 GUG)</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="consentKSV" required>
                            <label for="consentKSV">Ich stimme der Abfrage bei KSV 1870 zu</label>
                        </div>
                    </div>
                </div>

                <div class="button-group">
                    <button class="btn btn-secondary" onclick="previousStep()">Zur√ºck</button>
                    <button class="btn btn-primary" onclick="nextStep()">Weiter zu Dokumenten</button>
                </div>
            </div>
        </div>

        <!-- Step 3: Dokumente -->
        <div class="step-content" id="step3">
            <div class="card">
                <div class="card-title">Dokumenten-Upload</div>
                <div class="info-box">
                    Bitte laden Sie alle erforderlichen Dokumente hoch. Die Dokumente werden automatisch auf Vollst√§ndigkeit gepr√ºft.
                </div>

                <div class="card-title" style="font-size: 16px; margin-top: 1rem;">Finanzunterlagen <span class="required">*</span></div>
                <div class="form-group">
                    <label>Jahresabschl√ºsse / E√úR (2-3 Jahre) <span class="required">*</span></label>
                    <div class="file-upload" onclick="document.getElementById('financialStatements').click()">
                        <input type="file" id="financialStatements" accept=".pdf,.jpg,.jpeg,.png" multiple onchange="handleFileUpload(this, 'financialStatementsList')">
                        <div>
                            <div style="font-size: 48px; margin-bottom: 0.5rem;">üìä</div>
                            <div>Jahresabschl√ºsse oder Einnahmen-√úberschuss-Rechnung hochladen</div>
                        </div>
                    </div>
                    <div id="financialStatementsList" class="file-list"></div>
                </div>

                <div class="form-group">
                    <label>Planrechnung / Cashflow-Plan <span class="required">*</span></label>
                    <div class="file-upload" onclick="document.getElementById('planCalculation').click()">
                        <input type="file" id="planCalculation" accept=".pdf,.jpg,.jpeg,.png,.xlsx,.xls" onchange="handleFileUpload(this, 'planCalculationList')">
                        <div>
                            <div style="font-size: 48px; margin-bottom: 0.5rem;">üìà</div>
                            <div>Planrechnung oder Liquidit√§tsplan hochladen</div>
                        </div>
                    </div>
                    <div id="planCalculationList" class="file-list"></div>
                </div>

                <div class="form-group">
                    <label>BWA (Betriebswirtschaftliche Auswertung)</label>
                    <div class="file-upload" onclick="document.getElementById('bwa').click()">
                        <input type="file" id="bwa" accept=".pdf,.jpg,.jpeg,.png,.xlsx,.xls" onchange="handleFileUpload(this, 'bwaList')">
                        <div>
                            <div style="font-size: 48px; margin-bottom: 0.5rem;">üìã</div>
                            <div>BWA hochladen (optional)</div>
                        </div>
                    </div>
                    <div id="bwaList" class="file-list"></div>
                </div>

                <div class="card-title" style="font-size: 16px; margin-top: 1rem;">Investitionsunterlagen</div>
                <div class="form-group">
                    <label>Angebote / Rechnungen <span class="required">*</span></label>
                    <div class="file-upload" onclick="document.getElementById('offers').click()">
                        <input type="file" id="offers" accept=".pdf,.jpg,.jpeg,.png" multiple onchange="handleFileUpload(this, 'offersList')">
                        <div>
                            <div style="font-size: 48px; margin-bottom: 0.5rem;">üíº</div>
                            <div>Angebote oder Rechnungen f√ºr die Investition hochladen</div>
                        </div>
                    </div>
                    <div id="offersList" class="file-list"></div>
                </div>

                <div class="form-group">
                    <label>Investitionsplan</label>
                    <div class="file-upload" onclick="document.getElementById('investmentPlan').click()">
                        <input type="file" id="investmentPlan" accept=".pdf,.jpg,.jpeg,.png,.doc,.docx" onchange="handleFileUpload(this, 'investmentPlanList')">
                        <div>
                            <div style="font-size: 48px; margin-bottom: 0.5rem;">üìù</div>
                            <div>Detaillierter Investitionsplan hochladen (optional)</div>
                        </div>
                    </div>
                    <div id="investmentPlanList" class="file-list"></div>
                </div>

                <div id="fundingDocumentsSection" style="display: none;">
                    <div class="card-title" style="font-size: 16px; margin-top: 1rem;">F√∂rderunterlagen <span class="required">*</span></div>
                    <div class="info-box warning">
                        F√ºr F√∂rderkredite (AWS/√ñHT/ERP) sind zus√§tzliche Dokumente erforderlich.
                    </div>
                    <div class="form-group">
                        <label>KZE (Kredit-Zustimmungserkl√§rung) <span class="required">*</span></label>
                        <div class="file-upload" onclick="document.getElementById('kze').click()">
                            <input type="file" id="kze" accept=".pdf,.jpg,.jpeg,.png" onchange="handleFileUpload(this, 'kzeList')">
                            <div>
                                <div style="font-size: 48px; margin-bottom: 0.5rem;">üìë</div>
                                <div>KZE-Dokument hochladen</div>
                            </div>
                        </div>
                        <div id="kzeList" class="file-list"></div>
                    </div>
                    <div class="form-group">
                        <label>Projektkostengliederung <span class="required">*</span></label>
                        <div class="file-upload" onclick="document.getElementById('projectCosts').click()">
                            <input type="file" id="projectCosts" accept=".pdf,.xlsx,.xls" onchange="handleFileUpload(this, 'projectCostsList')">
                            <div>
                                <div style="font-size: 48px; margin-bottom: 0.5rem;">üí∞</div>
                                <div>Projektkostengliederung hochladen</div>
                            </div>
                        </div>
                        <div id="projectCostsList" class="file-list"></div>
                    </div>
                </div>

                <div class="card-title" style="font-size: 16px; margin-top: 1rem;">Sonstige Unterlagen</div>
                <div class="form-group">
                    <label>Firmenbuchauszug</label>
                    <div class="file-upload" onclick="document.getElementById('companyRegisterDoc').click()">
                        <input type="file" id="companyRegisterDoc" accept=".pdf,.jpg,.jpeg,.png" onchange="handleFileUpload(this, 'companyRegisterDocList')">
                        <div>
                            <div style="font-size: 48px; margin-bottom: 0.5rem;">üè¢</div>
                            <div>Firmenbuchauszug hochladen</div>
                        </div>
                    </div>
                    <div id="companyRegisterDocList" class="file-list"></div>
                </div>

                <div class="button-group">
                    <button class="btn btn-secondary" onclick="previousStep()">Zur√ºck</button>
                    <button class="btn btn-primary" onclick="nextStep()">Weiter zu Sicherheiten</button>
                </div>
            </div>
        </div>

        <!-- Step 4: Sicherheiten -->
        <div class="step-content" id="step4">
            <div class="card">
                <div class="card-title">Sicherheiten-Management</div>
                <div class="info-box">
                    <strong>Ziel:</strong> Standardisierte Intake- & Bewertungslogik; vollst√§ndige Vertragsmappe inkl. B√ºrgschaft.
                </div>

                <div class="form-group">
                    <label>Sicherheitenart <span class="required">*</span></label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" name="securityType" value="liegenschaft" id="secProperty" onchange="toggleSecurityDetails()">
                            <label for="secProperty">Liegenschaft</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="securityType" value="fahrzeug" id="secVehicle" onchange="toggleSecurityDetails()">
                            <label for="secVehicle">Fahrzeug</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="securityType" value="b√ºrgschaft" id="secGuarantee" onchange="toggleSecurityDetails()">
                            <label for="secGuarantee">B√ºrgschaft / Garantie</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="securityType" value="kontenverpf√§ndung" id="secAccount" onchange="toggleSecurityDetails()">
                            <label for="secAccount">Kontenverpf√§ndung</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="securityType" value="zession" id="secAssignment" onchange="toggleSecurityDetails()">
                            <label for="secAssignment">Zession</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="securityType" value="sonstiges" id="secOther" onchange="toggleSecurityDetails()">
                            <label for="secOther">Sonstiges</label>
                        </div>
                    </div>
                </div>

                <div id="securityDetails">
                    <div id="propertyDetails" style="display: none;">
                        <div class="card-title" style="font-size: 16px; margin-top: 1rem;">Liegenschaftsdetails</div>
                        <div class="form-group">
                            <label>Adresse <span class="required">*</span></label>
                            <input type="text" id="propertyAddress" placeholder="Stra√üe, PLZ, Ort">
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Grundbuchnummer <span class="required">*</span></label>
                                <input type="text" id="propertyGBNumber" placeholder="z.B. GB 12345">
                            </div>
                            <div class="form-group">
                                <label>Beleihungswert (EUR) <span class="required">*</span></label>
                                <input type="number" id="propertyValue" min="0" step="1000" placeholder="z.B. 200000">
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Grundbuchauszug (¬ß 5 GUG) <span class="required">*</span></label>
                            <div class="file-upload" onclick="document.getElementById('propertyGBDoc').click()">
                                <input type="file" id="propertyGBDoc" accept=".pdf,.jpg,.jpeg,.png" onchange="handleFileUpload(this, 'propertyGBDocList')">
                                <div>
                                    <div style="font-size: 48px; margin-bottom: 0.5rem;">üè†</div>
                                    <div>Grundbuchauszug hochladen</div>
                                </div>
                            </div>
                            <div id="propertyGBDocList" class="file-list"></div>
                        </div>
                        <div class="form-group">
                            <label>Bewertungsgutachten</label>
                            <div class="file-upload" onclick="document.getElementById('propertyAppraisal').click()">
                                <input type="file" id="propertyAppraisal" accept=".pdf" onchange="handleFileUpload(this, 'propertyAppraisalList')">
                                <div>
                                    <div style="font-size: 48px; margin-bottom: 0.5rem;">üìä</div>
                                    <div>Bewertungsgutachten hochladen (optional)</div>
                                </div>
                            </div>
                            <div id="propertyAppraisalList" class="file-list"></div>
                        </div>
                    </div>

                    <div id="vehicleDetails" style="display: none;">
                        <div class="card-title" style="font-size: 16px; margin-top: 1rem;">Fahrzeugdetails</div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Marke & Modell <span class="required">*</span></label>
                                <input type="text" id="vehicleModel" placeholder="z.B. Mercedes-Benz E-Klasse">
                            </div>
                            <div class="form-group">
                                <label>Kennzeichen <span class="required">*</span></label>
                                <input type="text" id="vehiclePlate" placeholder="z.B. W-123AB">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Baujahr <span class="required">*</span></label>
                                <input type="number" id="vehicleYear" min="1900" max="2025" placeholder="z.B. 2020">
                            </div>
                            <div class="form-group">
                                <label>Sch√§tzwert (EUR) <span class="required">*</span></label>
                                <input type="number" id="vehicleValue" min="0" step="100" placeholder="z.B. 30000">
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Eigentumsnachweis <span class="required">*</span></label>
                            <div class="file-upload" onclick="document.getElementById('vehicleOwnership').click()">
                                <input type="file" id="vehicleOwnership" accept=".pdf,.jpg,.jpeg,.png" onchange="handleFileUpload(this, 'vehicleOwnershipList')">
                                <div>
                                    <div style="font-size: 48px; margin-bottom: 0.5rem;">üöó</div>
                                    <div>Eigentumsnachweis hochladen</div>
                                </div>
                            </div>
                            <div id="vehicleOwnershipList" class="file-list"></div>
                        </div>
                    </div>

                    <div id="guaranteeDetails" style="display: none;">
                        <div class="card-title" style="font-size: 16px; margin-top: 1rem;">B√ºrgschaftsdetails</div>
                        <div class="form-group">
                            <label>B√ºrge / Garantiegeber:in <span class="required">*</span></label>
                            <input type="text" id="guarantorName" placeholder="Name des B√ºrgen">
                        </div>
                        <div class="form-group">
                            <label>B√ºrgschaftsbetrag (EUR) <span class="required">*</span></label>
                            <input type="number" id="guaranteeAmount" min="0" step="1000" placeholder="z.B. 50000">
                        </div>
                        <div class="form-group">
                            <label>B√ºrgschaftsvertrag</label>
                            <div class="file-upload" onclick="document.getElementById('guaranteeContract').click()">
                                <input type="file" id="guaranteeContract" accept=".pdf" onchange="handleFileUpload(this, 'guaranteeContractList')">
                                <div>
                                    <div style="font-size: 48px; margin-bottom: 0.5rem;">üìÑ</div>
                                    <div>B√ºrgschaftsvertrag hochladen (wird bei Bedarf generiert)</div>
                                </div>
                            </div>
                            <div id="guaranteeContractList" class="file-list"></div>
                        </div>
                    </div>
                </div>

                <div class="button-group">
                    <button class="btn btn-secondary" onclick="previousStep()">Zur√ºck</button>
                    <button class="btn btn-primary" onclick="nextStep()">Weiter zur Pr√ºfung</button>
                </div>
            </div>
        </div>

        <!-- Step 5: Pr√ºfung & Entscheidung -->
        <div class="step-content" id="step5">
            <div class="card">
                <div class="card-title">Risiko- & Bonit√§tspr√ºfung</div>
                <div class="info-box">
                    <strong>Ziel:</strong> Konsistentes Firmenkunden-Rating, Limitpr√ºfung, ESG-Ber√ºcksichtigung gem√§√ü EBA-Leitlinien.
                </div>

                <div class="card-title" style="font-size: 16px; margin-top: 1rem;">Automatische Pr√ºfung</div>
                <div class="form-group">
                    <label>Rating & Bonit√§tspr√ºfung</label>
                    <div id="ratingCheck" style="margin-top: 1rem;">
                        <span class="status-badge info">Pr√ºfung l√§uft...</span>
                    </div>
                    <div class="info-box" style="margin-top: 1rem;">
                        <strong>Berechnete Kennzahlen:</strong>
                        <ul style="margin-top: 0.5rem; margin-left: 1.5rem;">
                            <li>DSCR (Debt Service Coverage Ratio): Wird berechnet</li>
                            <li>Verschuldungsgrad: Wird berechnet</li>
                            <li>Cashflow-Coverage: Wird berechnet</li>
                            <li>Eigenmittel: Wird berechnet</li>
                        </ul>
                    </div>
                </div>

                <div class="form-group">
                    <label>ESG-Screening</label>
                    <div class="info-box">
                        ESG-Risiken werden gem√§√ü EBA-Leitlinien in die Risikobereitschaft, Kreditentscheidung und Sicherheitenbewertung einbezogen.
                    </div>
                    <div id="esgCheck" style="margin-top: 1rem;">
                        <span class="status-badge info">ESG-Pr√ºfung l√§uft...</span>
                    </div>
                </div>

                <div class="form-group">
                    <label>Limitpr√ºfung (RICOS)</label>
                    <div class="info-box">
                        Pr√ºfung der Kreditlimits gem√§√ü RICOS-System, inkl. Haftungsverbund und Gruppenverbundene Kunden.
                    </div>
                    <div id="limitCheck" style="margin-top: 1rem;">
                        <span class="status-badge info">Limitpr√ºfung l√§uft...</span>
                    </div>
                </div>

                <div class="card-title" style="font-size: 16px; margin-top: 1rem;">Entscheidungsstatus</div>
                <div id="decisionResult" style="display: none;">
                    <div class="card">
                        <div class="eligibility-result">
                            <div class="eligibility-icon success" id="decisionIcon">‚úì</div>
                            <h2 id="decisionTitle">Antrag genehmigt</h2>
                            <p id="decisionMessage" style="color: var(--text-light); margin-top: 1rem;"></p>
                            <div id="decisionDetails" style="margin-top: 1.5rem; text-align: left; max-width: 600px; margin-left: auto; margin-right: auto;">
                                <!-- Details werden dynamisch eingef√ºgt -->
                            </div>
                        </div>
                    </div>
                </div>

                <div class="button-group">
                    <button class="btn btn-secondary" onclick="previousStep()">Zur√ºck</button>
                    <button class="btn btn-primary" id="checkDecisionBtn" onclick="checkDecision()">Pr√ºfung starten</button>
                    <button class="btn btn-primary" id="continueToContractBtn" onclick="nextStep()" style="display: none;">Weiter zum Vertrag</button>
                </div>
            </div>
        </div>

        <!-- Step 6: Vertrag & Auszahlung -->
        <div class="step-content" id="step6">
            <div class="card">
                <div class="card-title">Vertrag & Auszahlung</div>
                <div class="info-box success">
                    <strong>Herzlichen Gl√ºckwunsch!</strong> Ihr Antrag wurde genehmigt. Bitte √ºberpr√ºfen Sie die Vertragsdetails und geben Sie Ihre elektronische Signatur ab.
                </div>

                <div class="card-title" style="font-size: 16px; margin-top: 1rem;">Vertrags√ºbersicht</div>
                <div class="card" style="background: #f8f9fa;">
                    <div class="summary-item">
                        <span class="summary-label">Kreditbetrag:</span>
                        <span class="summary-value" id="summaryAmount">-</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-label">Laufzeit:</span>
                        <span class="summary-value" id="summaryTerm">-</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-label">Zinssatz:</span>
                        <span class="summary-value" id="summaryInterest">-</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-label">Tilgungsmodus:</span>
                        <span class="summary-value" id="summaryRepayment">-</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-label">Sicherheiten:</span>
                        <span class="summary-value" id="summarySecurity">-</span>
                    </div>
                </div>

                <div class="card-title" style="font-size: 16px; margin-top: 1rem;">Vertragsunterlagen</div>
                <div class="info-box">
                    Die folgenden Vertr√§ge werden f√ºr Sie generiert:
                    <ul style="margin-top: 0.5rem; margin-left: 1.5rem;">
                        <li>ERP-Kreditvertrag / Haftungskreditvertrag</li>
                        <li>B√ºrgschaftsvertrag (falls zutreffend)</li>
                        <li>AGB & Rahmenbedingungen</li>
                        <li>Datenschutzerkl√§rung</li>
                    </ul>
                </div>

                <div class="form-group">
                    <label>Vertr√§ge herunterladen</label>
                    <button class="btn btn-secondary" onclick="downloadContracts()" style="width: 100%;">
                        üì• Vertragsmappe herunterladen
                    </button>
                </div>

                <div class="card-title" style="font-size: 16px; margin-top: 1rem;">Elektronische Signatur</div>
                <div class="form-group">
                    <label>Einwilligung zur eSignatur <span class="required">*</span></label>
                    <div class="checkbox-group">
                        <div class="checkbox-item">
                            <input type="checkbox" id="consentESign" required>
                            <label for="consentESign">Ich stimme der elektronischen Signatur zu und best√§tige, dass ich alle Vertragsunterlagen gelesen und verstanden habe.</label>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label>Signatur-Methode <span class="required">*</span></label>
                    <div class="radio-group">
                        <div class="radio-item">
                            <input type="radio" name="signMethod" value="cardTAN" id="signCardTAN" required>
                            <label for="signCardTAN">cardTAN</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="signMethod" value="mobileTAN" id="signMobileTAN">
                            <label for="signMobileTAN">Mobile TAN</label>
                        </div>
                        <div class="radio-item">
                            <input type="radio" name="signMethod" value="signApp" id="signApp">
                            <label for="signApp">Sign-App</label>
                        </div>
                    </div>
                </div>

                <div id="fundingPayoutSection" style="display: none;">
                    <div class="card-title" style="font-size: 16px; margin-top: 1rem;">F√∂rderkredit - Verwendungsnachweis</div>
                    <div class="info-box warning">
                        F√ºr F√∂rderkredite ist ein Verwendungsnachweis erforderlich. Bitte laden Sie nach der Auszahlung die entsprechenden Rechnungen und Zahlungsbest√§tigungen hoch.
                    </div>
                </div>

                <div class="card-title" style="font-size: 16px; margin-top: 1rem;">Auszahlung</div>
                <div class="form-group">
                    <label>Auszahlungskonto <span class="required">*</span></label>
                    <select id="payoutAccount" required>
                        <option value="">Bitte w√§hlen</option>
                        <option value="account1">AT12 3456 7890 1234 5678 (Gesch√§ftskonto)</option>
                        <option value="account2">AT98 7654 3210 9876 5432 (Anderes Konto)</option>
                    </select>
                </div>

                <div class="button-group">
                    <button class="btn btn-secondary" onclick="previousStep()">Zur√ºck</button>
                    <button class="btn btn-primary" onclick="submitApplication()">Antrag abschlie√üen & signieren</button>
                </div>
            </div>
        </div>

        <!-- Success Screen -->
        <div class="step-content" id="step7" style="display: none;">
            <div class="card">
                <div class="eligibility-result">
                    <div class="eligibility-icon success">‚úì</div>
                    <h2>Antrag erfolgreich eingereicht!</h2>
                    <p style="color: var(--text-light); margin-top: 1rem;">
                        Ihr Investitionskredit-Antrag wurde erfolgreich eingereicht und signiert.
                    </p>
                    <div class="info-box success" style="margin-top: 2rem; text-align: left; max-width: 600px; margin-left: auto; margin-right: auto;">
                        <strong>N√§chste Schritte:</strong>
                        <ul style="margin-top: 0.5rem; margin-left: 1.5rem;">
                            <li>Sie erhalten eine Best√§tigungs-E-Mail mit allen Details</li>
                            <li>Die Auszahlung erfolgt nach finaler Pr√ºfung (bei STP: automatisch)</li>
                            <li>Bei F√∂rderkrediten: Bitte reichen Sie den Verwendungsnachweis nach</li>
                            <li>Sie k√∂nnen den Status jederzeit in George Business einsehen</li>
                        </ul>
                    </div>
                    <div style="margin-top: 2rem;">
                        <button class="btn btn-primary" onclick="location.reload()">Neuen Antrag starten</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentStep = 0;
        const totalSteps = 7;
        const uploadedFiles = {};

        function updateProgress() {
            const progress = (currentStep / (totalSteps - 1)) * 100;
            document.getElementById('progressLine').style.width = progress + '%';

            document.querySelectorAll('.step').forEach((step, index) => {
                step.classList.remove('active', 'completed');
                if (index < currentStep) {
                    step.classList.add('completed');
                } else if (index === currentStep) {
                    step.classList.add('active');
                }
            });

            document.querySelectorAll('.step-content').forEach((content, index) => {
                content.classList.remove('active');
                if (index === currentStep) {
                    content.classList.add('active');
                }
            });
        }

        function nextStep() {
            if (currentStep < totalSteps - 1) {
                currentStep++;
                updateProgress();
                
                // Special handling for step 6 (contract)
                if (currentStep === 6) {
                    populateSummary();
                }
            }
        }

        function previousStep() {
            if (currentStep > 0) {
                currentStep--;
                updateProgress();
            }
        }

        function checkEligibility() {
            const customerType = document.querySelector('input[name="customerType"]:checked');
            const investmentPurpose = document.getElementById('investmentPurpose').value;
            const loanAmount = document.getElementById('loanAmount').value;
            const loanTerm = document.getElementById('loanTerm').value;
            const fundingWish = document.querySelector('input[name="fundingWish"]:checked');

            if (!customerType || !investmentPurpose || !loanAmount || !loanTerm || !fundingWish) {
                alert('Bitte f√ºllen Sie alle Pflichtfelder aus.');
                return;
            }

            const resultDiv = document.getElementById('eligibilityResult');
            const icon = document.getElementById('eligibilityIcon');
            const title = document.getElementById('eligibilityTitle');
            const message = document.getElementById('eligibilityMessage');

            // Simulate eligibility check
            const isEligible = Math.random() > 0.3; // 70% chance of being eligible

            if (isEligible) {
                icon.className = 'eligibility-icon success';
                icon.textContent = '‚úì';
                title.textContent = 'Vorqualifizierung erfolgreich';
                message.textContent = 'Sie erf√ºllen die grundlegenden Voraussetzungen f√ºr einen Investitionskredit. Sie k√∂nnen nun mit dem Antragsprozess fortfahren.';
            } else {
                icon.className = 'eligibility-icon warning';
                icon.textContent = '‚ö†';
                title.textContent = 'Weitere Pr√ºfung erforderlich';
                message.textContent = 'Ihr Antrag erfordert eine manuelle Pr√ºfung. Bitte wenden Sie sich an Ihre Filiale oder setzen Sie den Antrag online fort.';
            }

            resultDiv.style.display = 'block';
            document.getElementById('continueFromPreCheck').disabled = false;
        }

        function handleFileUpload(input, listId) {
            const files = input.files;
            const list = document.getElementById(listId);
            list.innerHTML = '';

            if (!uploadedFiles[listId]) {
                uploadedFiles[listId] = [];
            }

            Array.from(files).forEach(file => {
                uploadedFiles[listId].push(file);
                const fileItem = document.createElement('div');
                fileItem.className = 'file-item';
                fileItem.innerHTML = `
                    <div class="file-name">
                        <span>üìÑ</span>
                        <span>${file.name}</span>
                    </div>
                    <span class="file-remove" onclick="removeFile('${listId}', '${file.name}')">‚úï</span>
                `;
                list.appendChild(fileItem);
            });
        }

        function removeFile(listId, fileName) {
            if (uploadedFiles[listId]) {
                uploadedFiles[listId] = uploadedFiles[listId].filter(f => f.name !== fileName);
                const list = document.getElementById(listId);
                const items = list.querySelectorAll('.file-item');
                items.forEach(item => {
                    if (item.querySelector('.file-name span:last-child').textContent === fileName) {
                        item.remove();
                    }
                });
            }
        }

        function toggleSecurityDetails() {
            const selected = document.querySelector('input[name="securityType"]:checked');
            if (!selected) return;

            // Hide all detail sections
            document.getElementById('propertyDetails').style.display = 'none';
            document.getElementById('vehicleDetails').style.display = 'none';
            document.getElementById('guaranteeDetails').style.display = 'none';

            // Show selected detail section
            if (selected.value === 'liegenschaft') {
                document.getElementById('propertyDetails').style.display = 'block';
            } else if (selected.value === 'fahrzeug') {
                document.getElementById('vehicleDetails').style.display = 'block';
            } else if (selected.value === 'b√ºrgschaft') {
                document.getElementById('guaranteeDetails').style.display = 'block';
            }
        }

        function checkDecision() {
            const ratingCheck = document.getElementById('ratingCheck');
            const esgCheck = document.getElementById('esgCheck');
            const limitCheck = document.getElementById('limitCheck');
            const decisionResult = document.getElementById('decisionResult');
            const checkBtn = document.getElementById('checkDecisionBtn');
            const continueBtn = document.getElementById('continueToContractBtn');

            // Simulate checks
            setTimeout(() => {
                ratingCheck.innerHTML = '<span class="status-badge success">‚úì Rating: B+ (Genehmigt)</span>';
            }, 1000);

            setTimeout(() => {
                esgCheck.innerHTML = '<span class="status-badge success">‚úì ESG-Pr√ºfung: Bestanden</span>';
            }, 1500);

            setTimeout(() => {
                limitCheck.innerHTML = '<span class="status-badge success">‚úì Limitpr√ºfung: OK</span>';
            }, 2000);

            setTimeout(() => {
                const icon = document.getElementById('decisionIcon');
                const title = document.getElementById('decisionTitle');
                const message = document.getElementById('decisionMessage');
                const details = document.getElementById('decisionDetails');

                icon.className = 'eligibility-icon success';
                icon.textContent = '‚úì';
                title.textContent = 'Antrag genehmigt (STP)';
                message.textContent = 'Ihr Antrag wurde automatisch genehmigt. Sie k√∂nnen nun mit der Vertragsunterzeichnung fortfahren.';
                details.innerHTML = `
                    <div class="summary-item">
                        <span class="summary-label">Entscheidungsweg:</span>
                        <span class="summary-value">Straight Through Processing (STP)</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-label">Rating:</span>
                        <span class="summary-value">B+</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-label">DSCR:</span>
                        <span class="summary-value">1.35 (‚â• 1.2)</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-label">Sicherheiten-Deckung:</span>
                        <span class="summary-value">120%</span>
                    </div>
                `;

                decisionResult.style.display = 'block';
                checkBtn.style.display = 'none';
                continueBtn.style.display = 'inline-block';
            }, 2500);
        }

        function populateSummary() {
            const amount = document.getElementById('loanAmount')?.value || '50.000';
            const term = document.getElementById('loanTerm')?.value || '5';
            const repayment = document.getElementById('repaymentMode')?.value || 'annuit√§tisch';
            const security = document.querySelector('input[name="securityType"]:checked')?.value || 'Liegenschaft';

            document.getElementById('summaryAmount').textContent = new Intl.NumberFormat('de-AT', { style: 'currency', currency: 'EUR' }).format(amount);
            document.getElementById('summaryTerm').textContent = term + ' Jahre';
            document.getElementById('summaryInterest').textContent = '3,5% p.a. (fix)';
            document.getElementById('summaryRepayment').textContent = repayment.charAt(0).toUpperCase() + repayment.slice(1);
            document.getElementById('summarySecurity').textContent = security.charAt(0).toUpperCase() + security.slice(1);

            // Show funding section if funding was selected
            const fundingWish = document.querySelector('input[name="fundingWish"]:checked');
            if (fundingWish && fundingWish.value !== 'nein') {
                document.getElementById('fundingPayoutSection').style.display = 'block';
            }
        }

        function downloadContracts() {
            alert('Vertragsmappe wird generiert... (Demo)');
        }

        function submitApplication() {
            const consent = document.getElementById('consentESign');
            const signMethod = document.querySelector('input[name="signMethod"]:checked');
            const account = document.getElementById('payoutAccount').value;

            if (!consent.checked || !signMethod || !account) {
                alert('Bitte f√ºllen Sie alle Pflichtfelder aus.');
                return;
            }

            // Simulate submission
            alert('Antrag wird eingereicht und signiert... (Demo)');
            
            setTimeout(() => {
                currentStep = 7;
                updateProgress();
                document.getElementById('step7').style.display = 'block';
                document.getElementById('step7').classList.add('active');
            }, 1000);
        }

        // Initialize
        updateProgress();

        // Show funding documents section if funding is selected in step 0
        document.querySelectorAll('input[name="fundingWish"]').forEach(radio => {
            radio.addEventListener('change', function() {
                if (this.value !== 'nein') {
                    document.getElementById('fundingDocumentsSection').style.display = 'block';
                } else {
                    document.getElementById('fundingDocumentsSection').style.display = 'none';
                }
            });
        });
    </script>
</body>
</html>

